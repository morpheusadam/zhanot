jQuery(document).ready(function (n) {
    var o = n("body");
    n("html"), n(".zhanot_uniq_checkbox").change(function (e) {
        e.preventDefault();
        var a = n(this), t = a.data("id");
        a.is(":checked") && n("#" + t).prop("checked", !1)
    }), n(".upload-box").click(function (e) {
        e.preventDefault();
        var a = n(this).attr("id"), t = wp.media({
            title: zhanot_data.t_select_image,
            button: {text: zhanot_data.t_select_image},
            multiple: !1
        }).on("select", function () {
            var e = t.state().get("selection").first().toJSON();
            n("." + a + "-img").attr("src", e.url), n("." + a + "-url").val(e.url), n("." + a + "-remove").show()
        }).open()
    }), n(".upload-box-remove").click(function (e) {
        e.preventDefault();
        var a = n(this).attr("data-id");
        n("." + a + "-img").attr("src", ""), n("." + a + "-url").val(""), n(this).hide()
    }), n(".upload-box-remove").each(function () {
        var e = n(this).attr("data-id");
        "" == n("." + e + "-img").attr("src") && n(this).hide()
    }), n(".zhanot-color-picker").wpColorPicker(), o.on("click", ".zhanot-noti-select-image > i", function (e) {
        e.preventDefault();
        var a = n(".zhanot-noti-images-list");
        a.hasClass("active") ? a.removeClass("active") : a.addClass("active")
    }), o.on("click", ".zh-noti-display-img", function (e) {
        e.preventDefault();
        var a = n(this), t = a.data("zh-img-src");
        jQuery(".zhanot-noti-images-list").find(".selected").removeClass("selected"), a.hasClass("selected") ? a.removeClass("selected") : a.addClass("selected"), n(".zhanot_notification_img-url").attr("value", t)
    }), n(".zhanot-js-select-basic").select2({placeholder: zhanot_data.t_select_placeholder}), n(".zhanot-noti-type").change(function (e) {
        e.preventDefault();
        var a = n(this).val(), t = n(".zhanot-noti-tab-" + a);
        jQuery(".zhanot-admin-noti-tabs-content").find(".zhanot-admin-noti-tab").css("display", "none"), t.css("display", "none") ? t.css("display", "block") : t.css("display", "none")
    }), o.on("click", ".zhanot-open-toggle-box", function (e) {
        e.preventDefault();
        var a = n(this).data("zhanot-open-toggle"), t = n("." + a);
        t.hasClass("zhanot-opened-toggle") ? t.removeClass("zhanot-opened-toggle") : (o.find(".zhanot-opened-toggle").removeClass("zhanot-opened-toggle"), t.addClass("zhanot-opened-toggle"))
    }), o.on("click", ".acc-toggle-btn", function (e) {
        e.preventDefault();
        var a = n(this).data("acc"), t = n(".acc-panel-" + a);
        t.hasClass("opened") ? (t.removeClass("opened"), n(".zhanot-acc-panels").find(".acc-content").slideUp()) : (n(".zhanot-acc-panels").find(".zhanot-acc-panel").removeClass("opened"), n(".zhanot-acc-panels").find(".acc-content").slideUp(), t.addClass("opened"), n(".acc-panel-" + a + " .acc-content").slideDown())
    })
    if (n('#zhanot-date-picker').length > 0) {
        n("#zhanot-date-picker").persianDatepicker();
    }

    let editorSettings = wp.codeEditor.defaultSettings ? _.clone(wp.codeEditor.defaultSettings) : {};

    if (n('#zhanot_custom_css').length > 0) {
        editorSettings.codemirror = _.extend(
            {},
            editorSettings.codemirror,
            {
                indentUnit: 2,
                tabSize: 2,
                mode: 'css',
            }
        );
        let editor = wp.codeEditor.initialize(n('#zhanot_custom_css'), editorSettings);
    }

    if (n('#zhanot_custom_js').length > 0) {
        editorSettings.codemirror = _.extend(
            {},
            editorSettings.codemirror,
            {
                indentUnit: 2,
                tabSize: 2,
                mode: 'javascript',
            }
        );
        let editor = wp.codeEditor.initialize(n('#zhanot_custom_js'), editorSettings);
    }
});
